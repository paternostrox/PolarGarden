[gd_scene load_steps=12 format=2]

[ext_resource path="res://scenes/plant.tscn" type="PackedScene" id=1]
[ext_resource path="res://source/PlantPlacer.gd" type="Script" id=2]
[ext_resource path="res://materials/groundMat.tres" type="Material" id=3]
[ext_resource path="res://source/RandomButton.gd" type="Script" id=4]
[ext_resource path="res://materials/plantMat.tres" type="Material" id=5]
[ext_resource path="res://source/OrbitCamera.gd" type="Script" id=6]
[ext_resource path="res://source/GardenGrid.gd" type="Script" id=7]
[ext_resource path="res://source/ProceduralPlant.gd" type="Script" id=8]
[ext_resource path="res://source/EqDisplay.gd" type="Script" id=9]

[sub_resource type="ConvexPolygonShape" id=1]

[sub_resource type="ArrayMesh" id=2]

[node name="Root" type="Spatial"]

[node name="Orbit" type="Spatial" parent="."]
script = ExtResource( 6 )
maxPitch = 0.0
minPitch = -60.0
maxZoom = 10.0
horizontalSensitivity = 0.01
camYOffset = 3.0
target = NodePath("../GardenGrid/TARGET")

[node name="Camera" type="Camera" parent="Orbit"]
script = ExtResource( 2 )
grid_path = NodePath("../../GardenGrid")

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.707107, -0.707107, 0, 0.707107, 0.707107, 0, 0, 0 )

[node name="GardenGrid" type="MeshInstance" parent="."]
material_override = ExtResource( 3 )
script = ExtResource( 7 )
plant_scene = ExtResource( 1 )

[node name="StaticBody" type="StaticBody" parent="GardenGrid"]

[node name="CollisionShape" type="CollisionShape" parent="GardenGrid/StaticBody"]
shape = SubResource( 1 )

[node name="TARGET" type="Spatial" parent="GardenGrid"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5, 0, 2.5 )

[node name="Plant4" type="MeshInstance" parent="."]
transform = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0 )
visible = false
material_override = ExtResource( 5 )
mesh = SubResource( 2 )
script = ExtResource( 8 )
flower_length = 100.0
stalk_eq = "Vector3(0, 30*ease(t/10, 0.2), 0)"
stalk_disturbance_eq = "Vector3(0,0,0)"
flower_eq = "spherical2cartesian(Vector3(10*abs(sin(PI*theta)), theta, 1))+spherical2cartesian(Vector3(10*sin(4*theta), theta, 1))"

[node name="UI" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -1.5
margin_top = -0.5
margin_right = -1.5
margin_bottom = -0.5
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer" type="VBoxContainer" parent="UI"]
anchor_top = -0.023
anchor_right = 0.185
anchor_bottom = 1.0
margin_top = 13.8
margin_right = -0.440002
alignment = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button" type="Button" parent="UI/VBoxContainer"]
margin_top = 580.0
margin_right = 189.0
margin_bottom = 600.0
text = "Randomize!"
script = ExtResource( 4 )
garden_path = NodePath("../../../GardenGrid")

[node name="Label" type="Label" parent="UI"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -205.0
margin_top = -81.0
margin_right = -9.0
margin_bottom = -8.0
text = "RMB: Place/Remove Plant
MMB and Drag: Orbit Level
Mouse Wheel: Control Zoom"
align = 2
valign = 2
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer2" type="VBoxContainer" parent="UI"]
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -600.0
margin_top = 10.0
margin_right = -10.0
margin_bottom = -10.0
custom_constants/separation = 20
script = ExtResource( 9 )
__meta__ = {
"_edit_use_anchors_": false
}
grid_path = NodePath("../../GardenGrid")

[node name="Label" type="Label" parent="UI/VBoxContainer2"]
margin_right = 590.0
margin_bottom = 14.0
text = "EQUATION"
align = 2
autowrap = true

[node name="Label2" type="Label" parent="UI/VBoxContainer2"]
margin_top = 34.0
margin_right = 590.0
margin_bottom = 48.0
text = "EQUATION"
align = 2
autowrap = true

[node name="Label3" type="Label" parent="UI/VBoxContainer2"]
margin_top = 68.0
margin_right = 590.0
margin_bottom = 82.0
text = "EQUATION"
align = 2
autowrap = true
